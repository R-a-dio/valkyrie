syntax = "proto3";
package radio.rpc;
option go_package = "github.com/R-a-dio/valkyrie/rpc";

import "google/protobuf/empty.proto";
import "rpc/manager.proto";

service Announcer {
    rpc AnnounceSong(SongAnnouncement) returns (google.protobuf.Empty);
    rpc AnnounceRequest(SongRequestAnnouncement) returns (google.protobuf.Empty);
}

message SongAnnouncement {
    rpc.StreamInfo info = 1;
    int64 listeners = 2;
}
message SongRequestAnnouncement {
    rpc.Song song = 1;
}